---
concept: 逆矩阵/列空间/零空间
aliases: [Inverse Matrix, Column Space, Null Space, 逆矩阵, 列空间, 零空间]
source: 3Blue1Brown《线性代数的本质》第6集
week: 1
day: 2
phase: 0
tags: [concept, linear-algebra, W1D2]
---

# 逆矩阵、列空间与零空间

## 一句话定义

- **逆矩阵** $A^{-1}$：撤销矩阵 $A$ 所做的变换，使得 $A^{-1}A = I$
- **列空间** (Column Space)：矩阵所有列向量的所有线性组合，即变换后所有可能的输出
- **零空间** (Null Space)：被矩阵变换"压缩"到原点的所有向量的集合

## 直觉/类比

**逆矩阵**：就像函数的反函数。如果 $f(x) = 2x$，那 $f^{-1}(x) = x/2$。矩阵 $A$ 把空间变换了，$A^{-1}$ 把它变回去。

**列空间**：想象一个 API 的返回值范围。不是所有值都能被返回——列空间就是"所有可能的输出"。如果矩阵把 3D 压成 2D，列空间就是那个 2D 平面。

**零空间**：就像函数中所有映射到 0 的输入。在代码里类比：`filter(lambda x: transform(x) == 0, all_inputs)`。零空间越大，信息丢失越多。

软工类比：
- **可逆** = 无损压缩（可以完美还原）
- **不可逆** = 有损压缩（det=0，信息丢失）
- **列空间** = 压缩后的值域
- **零空间** = 被压缩丢弃的信息

## 数学表达

**逆矩阵**：
$$A \cdot A^{-1} = A^{-1} \cdot A = I$$

存在条件：$\det(A) \neq 0$

**求解线性方程组**：
$$Ax = b \implies x = A^{-1}b$$

**列空间**：
$$\text{Col}(A) = \{Ax \mid x \in \mathbb{R}^n\}$$

维度 = 矩阵的秩 (rank)

**零空间**：
$$\text{Null}(A) = \{x \mid Ax = 0\}$$

**秩-零化度定理**：
$$\text{rank}(A) + \dim(\text{Null}(A)) = n \text{（列数）}$$

## Python 代码

```python
import numpy as np

# === 逆矩阵 ===
A = np.array([[2, 1],
              [1, 1]])

A_inv = np.linalg.inv(A)
print("A⁻¹ =\n", A_inv)
print("A @ A⁻¹ =\n", A @ A_inv)  # 应该得到单位矩阵

# 用逆矩阵求解 Ax = b
b = np.array([5, 3])
x = A_inv @ b
print(f"解: x = {x}")  # [2, 1]
print(f"验证: A @ x = {A @ x}")  # [5, 3]

# === 列空间与秩 ===
B = np.array([[1, 2, 3],
              [4, 5, 6],
              [7, 8, 9]])

rank = np.linalg.matrix_rank(B)
print(f"\nB 的秩 = {rank}")  # 2，说明列空间是2维（3列但只有2个线性无关）
print(f"det(B) = {np.linalg.det(B):.6f}")  # ≈0，不可逆

# === 零空间 ===
# 零空间 = Bx = 0 的所有解
from scipy.linalg import null_space
ns = null_space(B)
print(f"\n零空间维度: {ns.shape[1]}")  # 1维
print(f"零空间基向量:\n{ns}")
print(f"验证 B @ ns ≈ 0:\n{B @ ns}")  # 应该接近0
```

## 在 ML/DL 中的位置

```
逆矩阵/列空间/零空间
├── 线性回归正规方程：θ = (X^TX)^{-1} X^T y
│   └── X^TX 不可逆 → 多重共线性 → 需要正则化
├── PCA：协方差矩阵的特征分解
│   └── 零空间对应被丢弃的主成分
├── 矩阵的秩 → 数据的有效维度
│   └── 低秩矩阵 → 数据有冗余
└── 伪逆（Moore-Penrose）：即使不可逆也能求"最优解"
```

- **线性回归**：正规方程需要 $(X^TX)^{-1}$，若不可逆则特征共线
- **降维 (PCA)**：投影到列空间的主要方向，丢弃零空间方向
- **推荐系统**：矩阵分解假设用户-物品矩阵是低秩的

## 常见面试问法

1. **什么时候矩阵不可逆？** → det=0，行/列线性相关，秩 < 维度
2. **线性方程组 Ax=b 什么时候有解？** → b 在 A 的列空间中
3. **秩-零化度定理的直觉？** → 输入空间 = 有效维度 + 被压缩的维度
4. **X^TX 不可逆怎么办？** → 加正则化项：$(X^TX + \lambda I)^{-1}$（Ridge 回归）

## 关联概念

- [[行列式]] — det=0 等价于不可逆
- [[线性变换]] — 逆矩阵是变换的"撤销"操作
- [[特征值与特征向量]] — 零特征值对应零空间的方向
