#!/usr/bin/env python3
"""
NumPy çº¿æ€§ä»£æ•°ç»ƒä¹ é¢˜
ç»“åˆ 3Blue1Brownã€Šçº¿æ€§ä»£æ•°çš„æœ¬è´¨ã€‹ç¬¬1-4é›†å†…å®¹
"""

import numpy as np

print("=" * 50)
print("NumPy çº¿æ€§ä»£æ•°ç»ƒä¹  - Day 1")
print("=" * 50)

# ============================================
# ç»ƒä¹  1: å‘é‡åˆ›å»ºä¸åŸºæœ¬æ“ä½œ
# ============================================
print("\nã€ç»ƒä¹ 1ã€‘å‘é‡æ“ä½œ")
print("-" * 30)

# TODO: åˆ›å»ºä¸¤ä¸ªå‘é‡
v1 = np.array([3, 4])      # å‘é‡ [3, 4]
v2 = np.array([1, 2])      # å‘é‡ [1, 2]

print(f"v1 = {v1}")
print(f"v2 = {v2}")

# å‘é‡åŠ æ³•ï¼ˆå¹³è¡Œå››è¾¹å½¢æ³•åˆ™ï¼‰
v_sum = v1 + v2
print(f"\nå‘é‡åŠ æ³• v1 + v2 = {v_sum}")

# æ•°ä¹˜ï¼ˆæ‹‰ä¼¸å‘é‡ï¼‰
v_scaled = 2 * v1
print(f"æ•°ä¹˜ 2 * v1 = {v_scaled}")

# å‘é‡çš„æ¨¡ï¼ˆé•¿åº¦ï¼‰
v1_length = np.linalg.norm(v1)
print(f"\nv1 çš„é•¿åº¦ |v1| = {v1_length:.2f}")
print(f"éªŒè¯: âˆš(3Â² + 4Â²) = {np.sqrt(3**2 + 4**2):.2f}")


# ============================================
# ç»ƒä¹  2: çº¿æ€§ç»„åˆ (Linear Combination)
# ============================================
print("\n\nã€ç»ƒä¹ 2ã€‘çº¿æ€§ç»„åˆ")
print("-" * 30)

# åŸºå‘é‡
i_hat = np.array([1, 0])  # Ã®
j_hat = np.array([0, 1])  # Äµ

print(f"åŸºå‘é‡ Ã® = {i_hat}, Äµ = {j_hat}")

# TODO: ç”¨çº¿æ€§ç»„åˆè¡¨ç¤ºå‘é‡ [3, 2]
# [3, 2] = 3*Ã® + 2*Äµ
a, b = 3, 2
result = a * i_hat + b * j_hat
print(f"\n{a}*Ã® + {b}*Äµ = {result}")


# ============================================
# ç»ƒä¹  3: çŸ©é˜µå³çº¿æ€§å˜æ¢
# ============================================
print("\n\nã€ç»ƒä¹ 3ã€‘çº¿æ€§å˜æ¢")
print("-" * 30)

# å®šä¹‰ä¸€ä¸ªå˜æ¢çŸ©é˜µï¼šæ°´å¹³æ‹‰ä¼¸2å€
A = np.array([[2, 0],
              [0, 1]])

print(f"å˜æ¢çŸ©é˜µ A =\n{A}")

# åŸå§‹å‘é‡
v = np.array([1, 1])
print(f"\nåŸå§‹å‘é‡ v = {v}")

# åº”ç”¨å˜æ¢
v_transformed = A @ v  # ä½¿ç”¨ @ è¿ç®—ç¬¦è¿›è¡ŒçŸ©é˜µä¹˜æ³•
print(f"å˜æ¢å Av = {v_transformed}")

# è§£é‡Šï¼šxæ–¹å‘æ‹‰ä¼¸2å€ï¼Œyæ–¹å‘ä¸å˜


# ============================================
# ç»ƒä¹  4: å˜æ¢çš„å¤åˆ (çŸ©é˜µä¹˜æ³•)
# ============================================
print("\n\nã€ç»ƒä¹ 4ã€‘å˜æ¢å¤åˆ")
print("-" * 30)

# ç¬¬ä¸€ä¸ªå˜æ¢ï¼šæ—‹è½¬90åº¦
R = np.array([[0, -1],
              [1, 0]])

# ç¬¬äºŒä¸ªå˜æ¢ï¼šæ°´å¹³å‰ªåˆ‡
S = np.array([[1, 1],
              [0, 1]])

print(f"æ—‹è½¬çŸ©é˜µ R (90Â°) =\n{R}")
print(f"\nå‰ªåˆ‡çŸ©é˜µ S =\n{S}")

# å…ˆæ—‹è½¬åå‰ªåˆ‡ï¼šå¤åˆå˜æ¢ = S @ R
composite = S @ R
print(f"\nå¤åˆå˜æ¢ S @ R =\n{composite}")

v_test = np.array([1, 0])
print(f"\næµ‹è¯•å‘é‡ v = {v_test}")
print(f"å…ˆæ—‹è½¬åå‰ªåˆ‡: {(S @ R) @ v_test}")
print(f"éªŒè¯: S(R(v)) = {S @ (R @ v_test)}")


# ============================================
# ç»ƒä¹  5: çº¿æ€§ç›¸å…³/æ— å…³åˆ¤æ–­
# ============================================
print("\n\nã€ç»ƒä¹ 5ã€‘çº¿æ€§ç›¸å…³æ€§åˆ¤æ–­")
print("-" * 30)

# åˆ›å»ºä¸€ç»„å‘é‡
vectors = np.array([
    [1, 2],
    [2, 4],
    [3, 1]
])

print("å‘é‡ç»„:")
print(vectors)

# è®¡ç®—çŸ©é˜µçš„ç§©
rank = np.linalg.matrix_rank(vectors)
print(f"\nçŸ©é˜µçš„ç§© = {rank}")
print(f"å‘é‡ä¸ªæ•° = {len(vectors)}")

if rank < len(vectors):
    print("âš ï¸ å­˜åœ¨çº¿æ€§ç›¸å…³çš„å‘é‡ï¼ˆç§© < å‘é‡ä¸ªæ•°ï¼‰")
else:
    print("âœ… å‘é‡çº¿æ€§æ— å…³")


# ============================================
# ç»ƒä¹  6: æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„
# ============================================
print("\n\nã€ç»ƒä¹ 6ã€‘æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„")
print("-" * 30)

# æ±‚è§£: 2x + y = 5, 3x - 2y = 4
# å³: Ax = b, å…¶ä¸­ A = [[2, 1], [3, -2]], b = [5, 4]
A = np.array([[2, 1],
              [3, -2]])
b = np.array([5, 4])

print(f"A =\n{A}")
print(f"b = {b}")

x = np.linalg.solve(A, b)
print(f"\nè§£: x = {x}")
print(f"éªŒè¯: Ax = {A @ x}")


# ============================================
# æŒ‘æˆ˜é¢˜: å®ç°ä¸€ä¸ªç®€å•çš„çº¿æ€§å˜æ¢å¯è§†åŒ–
# ============================================
print("\n\nã€æŒ‘æˆ˜é¢˜ã€‘å˜æ¢å¯¹å•ä½æ­£æ–¹å½¢çš„å½±å“")
print("-" * 30)

# å•ä½æ­£æ–¹å½¢çš„å››ä¸ªé¡¶ç‚¹
square = np.array([
    [0, 0],  # åŸç‚¹
    [1, 0],  # Ã®
    [1, 1],  # Ã® + Äµ
    [0, 1]   # Äµ
])

print("åŸå§‹å•ä½æ­£æ–¹å½¢é¡¶ç‚¹:")
print(square)

# å®šä¹‰å˜æ¢ï¼šæ—‹è½¬45åº¦
theta = np.pi / 4
rotation = np.array([
    [np.cos(theta), -np.sin(theta)],
    [np.sin(theta), np.cos(theta)]
])

# åº”ç”¨å˜æ¢
transformed = square @ rotation.T  # æ¯è¡Œæ˜¯å‘é‡ï¼Œå³ä¹˜è½¬ç½®
print(f"\næ—‹è½¬45Â°åçš„é¡¶ç‚¹:")
print(transformed)

# è®¡ç®—é¢ç§¯å˜åŒ–ï¼ˆè¡Œåˆ—å¼ï¼‰
det = np.linalg.det(rotation)
print(f"\nå˜æ¢çŸ©é˜µçš„è¡Œåˆ—å¼ = {det:.4f}")
print(f"é¢ç§¯ç¼©æ”¾æ¯”ä¾‹ = |det| = {abs(det):.4f}")


print("\n" + "=" * 50)
print("ğŸ‰ ç»ƒä¹ å®Œæˆï¼")
print("=" * 50)
print("\nğŸ’¡ æç¤ºï¼š")
print("1. ç”¨ np.array() åˆ›å»ºå‘é‡å’ŒçŸ©é˜µ")
print("2. ç”¨ @ è¿ç®—ç¬¦è¿›è¡ŒçŸ©é˜µä¹˜æ³•")
print("3. ç”¨ np.linalg.norm() è®¡ç®—å‘é‡é•¿åº¦")
print("4. ç”¨ np.linalg.solve() æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„")
print("5. ç”¨ np.linalg.det() è®¡ç®—è¡Œåˆ—å¼ï¼ˆé¢ç§¯ç¼©æ”¾ï¼‰")
